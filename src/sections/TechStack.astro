---
import { technologies } from "../content/tecnologies";
import SectionHeader from "../components/ui/SectionHeader";
---

<section id="stack" class="py-20 bg-section3">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div data-reveal-time={0} class="reveal reveal-hidden">
      <SectionHeader
        bagde="Habilidades"
        title="Tecnologias & Ferramentas"
        subtitle="Minha caixa de ferramentas para construir soluções robustas."
      />

      <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
        {
          technologies.map(({ name, role, icons }, index) => {
            const iconWidth = (() => {
              switch (icons.length) {
                case 1:
                  return "w-12";
                case 2:
                  return "w-24";
                default:
                  return "w-full";
              }
            })();

            return (
              <div data-reveal-time={index * 50} class="reveal reveal-hidden">
                <article class="group p-6 bg-surface border border-border/60 rounded-xl flex flex-col items-center text-center transition-all hover:shadow-lg hover:bg-surfaceHighlight hover:border-primary/50 cursor-default h-full">
                  <div
                    class={`${iconWidth} h-12 rounded-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform gap-3`}
                    role="img"
                    aria-label={`Ícone de ${name}`}
                  >
                    {icons.map((iconName) => (
                      <svg aria-hidden="true" class="w-12 h-12 transition-none">
                        <use href={`/icons.svg#${iconName}`} />
                      </svg>
                    ))}
                  </div>
                  <h3 class="font-bold text-textSecondary mt-auto">{name}</h3>
                  <p class="text-xs text-textMuted mt-1">{role}</p>
                </article>
              </div>
            );
          })
        }
      </div>
    </div>
  </div>
</section>
